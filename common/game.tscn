[gd_scene load_steps=13 format=3 uid="uid://d1y8jdicca0ja"]

[ext_resource type="Script" path="res://common/game.gd" id="1_nixut"]
[ext_resource type="Environment" uid="uid://cj5a4clofvpeq" path="res://common/day_environment.tres" id="2_d8gdf"]
[ext_resource type="PackedScene" uid="uid://cdevl400jk456" path="res://common/terrain.tscn" id="3_0vj7r"]
[ext_resource type="PackedScene" uid="uid://4xgl4drja75q" path="res://ui/main_menu.tscn" id="3_3ao77"]
[ext_resource type="PackedScene" uid="uid://2oxdgu03lnbk" path="res://kinematic_fps_controller/kinematic_fps_controller.tscn" id="3_m520b"]
[ext_resource type="Script" path="res://common/door.gd" id="4_25n3v"]

[sub_resource type="NavigationMesh" id="NavigationMesh_od0y4"]
vertices = PackedVector3Array(-49.8, 0.252919, -1.15, -1.7, 0.252919, -1.15, -1.7, 0.252919, -1.55, -1.55, 0.252919, -1.7, -1.15, 0.252919, -1.7, -1.15, 0.00291896, -49.8, -49.8, 0.00291896, -49.8, -26.0034, -0.247081, -37.4001, -31.3968, 0.252919, -29.9022, -0.799999, 0.252919, -1.7, -0.799999, 0.00291896, -49.8, -0.25, 0.252919, -1.5, 0.299999, 0.252919, -1.45, 0.450001, 0.252919, -1.7, 0.850002, 0.00291896, -49.8, -0.399998, 0.252919, -1.7, 0.850002, 0.252919, -1.7, 1.2, 0.252919, -1.7, 1.2, 0.00291896, -49.8, 1.75, 0.252919, -1.55, 1.75, 0.252919, -1.25, 49.8, 0.252919, -1.3, 1.6, 0.252919, -1.7, 49.8, 0.00291896, -49.8, 9.70047, -0.247081, -16.995, 25.8983, 0.252919, -18.8027, 20.8014, -0.247081, -25.696, -1.55, 2.50292, -1.55, -1.55, 2.50292, 1.55, 1.55, 2.50292, 1.55, 1.55, 2.50292, -1.55, 0.450001, 0.252919, -1.2, -0.450001, 0.252919, -1.2, -1.2, 0.252919, 1.25, 1.25, 0.252919, 1.25, 1.25, 0.252919, -1.2, -1.2, 0.252919, -1.2, 1.75, 0.252919, 1.25, 49.8, 0.252919, 1.3, -49.8, 0.252919, 1.2, -1.7, 0.252919, 1.2, -1.3, 0.00291896, 49.8, -1.25, 0.252919, 1.75, -1.55, 0.252919, 1.75, -1.7, 0.252919, 1.6, -49.8, -0.247081, 49.8, -49.8, -0.497081, 9.03871, -23.2977, -0.497081, 31.001, -1.99967, -0.247081, 15.9976, -16.0971, 0.00291896, 25.9042, -39.4999, -0.247081, 6.70183, -7.40323, -0.247081, 10.8984, -48.2, 0.252919, 4.30299, -13.3985, 0.00291896, 39.6958, -44.299, 0.252919, 4.30155, 1.75, 0.252919, 1.55, 1.55, 0.252919, 1.75, 1.25, 0.252919, 1.75, 1.3, 0.00291896, 49.8, 1.47742, -0.247081, 15.7, 1.26451, -0.247081, 15.7, 49.8, -0.247081, 49.8, 49.8, -0.497081, 9.12258, 8.19799, -0.497081, 8.19944, 31.0026, -0.497081, 46.9033, 28.2952, 0.00291896, 6.70071, 28.6009, -0.497081, 12.6953, 3.10231, 0.00291896, 12.3991, -0.802334, -0.247081, 16.0015)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(5, 4, 3), PackedInt32Array(5, 7, 6), PackedInt32Array(6, 8, 0), PackedInt32Array(0, 8, 2), PackedInt32Array(2, 8, 3), PackedInt32Array(3, 7, 5), PackedInt32Array(7, 8, 6), PackedInt32Array(8, 7, 3), PackedInt32Array(5, 10, 4), PackedInt32Array(4, 10, 9), PackedInt32Array(11, 15, 12), PackedInt32Array(12, 15, 13), PackedInt32Array(13, 15, 10), PackedInt32Array(13, 10, 14), PackedInt32Array(15, 9, 10), PackedInt32Array(14, 16, 13), PackedInt32Array(14, 18, 16), PackedInt32Array(16, 18, 17), PackedInt32Array(21, 20, 19), PackedInt32Array(22, 17, 18), PackedInt32Array(23, 26, 18), PackedInt32Array(18, 24, 22), PackedInt32Array(22, 24, 19), PackedInt32Array(19, 25, 21), PackedInt32Array(21, 25, 23), PackedInt32Array(26, 24, 18), PackedInt32Array(23, 25, 26), PackedInt32Array(24, 25, 19), PackedInt32Array(26, 25, 24), PackedInt32Array(30, 29, 27), PackedInt32Array(27, 29, 28), PackedInt32Array(12, 31, 11), PackedInt32Array(11, 31, 32), PackedInt32Array(32, 31, 33), PackedInt32Array(33, 31, 34), PackedInt32Array(31, 35, 34), PackedInt32Array(33, 36, 32), PackedInt32Array(20, 21, 37), PackedInt32Array(37, 21, 38), PackedInt32Array(0, 1, 39), PackedInt32Array(39, 1, 40), PackedInt32Array(43, 42, 41), PackedInt32Array(39, 40, 44), PackedInt32Array(46, 47, 45), PackedInt32Array(45, 53, 41), PackedInt32Array(41, 48, 43), PackedInt32Array(43, 51, 44), PackedInt32Array(44, 54, 39), PackedInt32Array(39, 52, 46), PackedInt32Array(47, 53, 45), PackedInt32Array(46, 50, 47), PackedInt32Array(53, 48, 41), PackedInt32Array(48, 51, 43), PackedInt32Array(51, 50, 44), PackedInt32Array(54, 52, 39), PackedInt32Array(44, 50, 54), PackedInt32Array(52, 54, 46), PackedInt32Array(47, 49, 53), PackedInt32Array(50, 49, 47), PackedInt32Array(46, 54, 50), PackedInt32Array(53, 49, 48), PackedInt32Array(48, 49, 51), PackedInt32Array(51, 49, 50), PackedInt32Array(55, 37, 38), PackedInt32Array(56, 59, 57), PackedInt32Array(57, 59, 60), PackedInt32Array(60, 59, 58), PackedInt32Array(58, 64, 61), PackedInt32Array(61, 64, 62), PackedInt32Array(62, 65, 38), PackedInt32Array(38, 65, 55), PackedInt32Array(55, 63, 56), PackedInt32Array(56, 67, 59), PackedInt32Array(59, 64, 58), PackedInt32Array(64, 66, 62), PackedInt32Array(62, 66, 65), PackedInt32Array(65, 63, 55), PackedInt32Array(63, 67, 56), PackedInt32Array(67, 63, 59), PackedInt32Array(59, 66, 64), PackedInt32Array(66, 63, 65), PackedInt32Array(63, 66, 59), PackedInt32Array(57, 60, 42), PackedInt32Array(42, 68, 41), PackedInt32Array(41, 68, 58), PackedInt32Array(58, 68, 60), PackedInt32Array(60, 68, 42)]
geometry_parsed_geometry_type = 1
geometry_collision_mask = 4294967041
cell_size = 0.05
agent_radius = 0.2

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_jk4q4"]
albedo_color = Color(0.38, 0.25726, 0.1862, 1)

[sub_resource type="BoxMesh" id="BoxMesh_pbq2r"]
material = SubResource("StandardMaterial3D_jk4q4")
size = Vector3(0.05, 1.9, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_3r5q7"]
size = Vector3(0.05, 1.9, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_hj3kn"]
albedo_color = Color(0.38, 0.331867, 0.304, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_34edd"]
size = Vector3(2.9, 2.2, 2.9)

[node name="Game" type="NavigationRegion3D"]
navigation_mesh = SubResource("NavigationMesh_od0y4")
script = ExtResource("1_nixut")

[node name="Container" type="Node3D" parent="."]

[node name="DayLight" type="DirectionalLight3D" parent="Container"]
unique_name_in_owner = true
transform = Transform3D(-0.866023, -0.433016, 0.250001, 0, 0.499998, 0.866027, -0.500003, 0.749999, -0.43301, 0, 0, 0)
shadow_enabled = true

[node name="NightLight" type="DirectionalLight3D" parent="Container"]
unique_name_in_owner = true
transform = Transform3D(-0.866023, -0.433016, 0.250001, 0, 0.499998, 0.866027, -0.500003, 0.749999, -0.43301, 0, 0, 0)
visible = false
light_color = Color(0.945098, 1, 1, 1)
light_energy = 0.2

[node name="WorldEnvironment" type="WorldEnvironment" parent="Container"]
unique_name_in_owner = true
environment = ExtResource("2_d8gdf")

[node name="Player" parent="Container" instance=ExtResource("3_m520b")]
unique_name_in_owner = true

[node name="Terrain" parent="Container" instance=ExtResource("3_0vj7r")]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, -2, 2.08165e-12)

[node name="GroundwaterContainer" type="Node3D" parent="Container"]
unique_name_in_owner = true

[node name="LizardContainer" type="Node3D" parent="Container"]
unique_name_in_owner = true

[node name="Home" type="Node3D" parent="Container"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.247081, 0)

[node name="Door" type="StaticBody3D" parent="Container/Home"]
unique_name_in_owner = true
transform = Transform3D(1.31134e-07, 0, -1, 0, 1, 0, 1, 0, 1.31134e-07, -1.93427e-07, 1, -1.475)
visible = false
collision_layer = 2
script = ExtResource("4_25n3v")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Container/Home/Door"]
mesh = SubResource("BoxMesh_pbq2r")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Container/Home/Door"]
shape = SubResource("BoxShape3D_3r5q7")

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="Container/Home"]
material_override = SubResource("StandardMaterial3D_hj3kn")
use_collision = true

[node name="Foundation" type="CSGBox3D" parent="Container/Home/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, -0.5, 2.08165e-12)
size = Vector3(3, 1, 3)

[node name="Floor" type="CSGBox3D" parent="Container/Home/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, 0.025, 2.08165e-12)
size = Vector3(3, 0.05, 3)

[node name="Roof" type="CSGBox3D" parent="Container/Home/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, 2.375, 2.08165e-12)
size = Vector3(3.5, 0.05, 3.5)

[node name="Wall1" type="CSGBox3D" parent="Container/Home/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.475, 1.2, 2.08165e-12)
size = Vector3(0.05, 2.3, 3)

[node name="Wall2" type="CSGBox3D" parent="Container/Home/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.475, 1.2, 2.08165e-12)
size = Vector3(0.05, 2.3, 3)

[node name="Wall3" type="CSGBox3D" parent="Container/Home/CSGCombiner3D"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 6.44764e-08, 1.2, 1.475)
size = Vector3(0.05, 2.3, 2.9)

[node name="Wall4" type="CSGBox3D" parent="Container/Home/CSGCombiner3D"]
transform = Transform3D(1.31134e-07, 0, -1, 0, 1, 0, 1, 0, 1.31134e-07, -1.93425e-07, 1.2, -1.475)
layers = 0
size = Vector3(0.05, 2.3, 2.9)

[node name="Doorway" type="CSGBox3D" parent="Container/Home/CSGCombiner3D/Wall4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, -0.2, 2.08165e-12)
layers = 0
operation = 2
size = Vector3(0.05, 1.9, 1)

[node name="Indoors" type="Area3D" parent="Container/Home"]
unique_name_in_owner = true
collision_layer = 4

[node name="CollisionShape3D" type="CollisionShape3D" parent="Container/Home/Indoors"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, 1.15, 2.08165e-12)
shape = SubResource("BoxShape3D_34edd")

[node name="MenuContainer" type="PanelContainer" parent="."]
unique_name_in_owner = true
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="MainMenu" parent="MenuContainer" instance=ExtResource("3_3ao77")]
unique_name_in_owner = true
layout_mode = 2
pause_menu = true
